<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>打造以太坊私有链 - ZhongXuQi的技术博客</title>
  <meta name="description" content="1. 下载 $ git clone https://github.com/ethereum/go-ethereum.git 2. 编译 $ cd go-ethereum $ make geth 把./build/bin/geth添加到可执行路径中
3. 配置初始状态 保存配置到genesis.json文件
{  &#34;config&#34;: {  &#34;chainId&#34;: 7777,  &#34;homesteadBlock&#34;: 0,  &#34;eip150Block&#34;: 0,  &#34;eip155Block&#34;: 0,  &#34;eip158Block&#34;: 0,  &#34;byzantiumBlock&#34;: 0,  &#34;constantinopleBlock&#34;: 0,  &#34;petersburgBlock&#34;: 0,  &#34;ethash&#34;: {}  },  &#34;difficulty&#34;: &#34;1&#34;,  &#34;gasLimit&#34;: &#34;8000000&#34;,  &#34;alloc&#34;: {  &#34;7df9a875a174b3bc565e6424a0050ebc1b2d1d82&#34;: { &#34;balance&#34;: &#34;300000&#34; },  &#34;f41c74c9ae680c1aa78f42e5647a62f353b7bdde&#34;: { &#34;balance&#34;: &#34;400000&#34; }  } } 执行geth init --datadir data genesis."><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "ZhongXuQi的技术博客",
    
    "url": "https:\/\/zhongxuqi.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/zhongxuqi.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/zhongxuqi.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/zhongxuqi.github.io\/posts\/2022-03-15\/",
          "name": "打造以太坊私有链"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "打造以太坊私有链",
  "description" : "1. 下载 $ git clone https:\/\/github.com\/ethereum\/go-ethereum.git 2. 编译 $ cd go-ethereum $ make geth 把.\/build\/bin\/geth添加到可执行路径中\n3. 配置初始状态 保存配置到genesis.json文件\n{  \u0026#34;config\u0026#34;: {  \u0026#34;chainId\u0026#34;: 7777,  \u0026#34;homesteadBlock\u0026#34;: 0,  \u0026#34;eip150Block\u0026#34;: 0,  \u0026#34;eip155Block\u0026#34;: 0,  \u0026#34;eip158Block\u0026#34;: 0,  \u0026#34;byzantiumBlock\u0026#34;: 0,  \u0026#34;constantinopleBlock\u0026#34;: 0,  \u0026#34;petersburgBlock\u0026#34;: 0,  \u0026#34;ethash\u0026#34;: {}  },  \u0026#34;difficulty\u0026#34;: \u0026#34;1\u0026#34;,  \u0026#34;gasLimit\u0026#34;: \u0026#34;8000000\u0026#34;,  \u0026#34;alloc\u0026#34;: {  \u0026#34;7df9a875a174b3bc565e6424a0050ebc1b2d1d82\u0026#34;: { \u0026#34;balance\u0026#34;: \u0026#34;300000\u0026#34; },  \u0026#34;f41c74c9ae680c1aa78f42e5647a62f353b7bdde\u0026#34;: { \u0026#34;balance\u0026#34;: \u0026#34;400000\u0026#34; }  } } 执行geth init --datadir data genesis.",
  "inLanguage" : "en",
  "wordCount":  635 ,
  "datePublished" : "2022-03-15T17:33:37",
  "dateModified" : "2022-03-15T17:33:37",
  "image" : "https:\/\/zhongxuqi.github.io\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/zhongxuqi.github.io\/posts\/2022-03-15\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/zhongxuqi.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/zhongxuqi.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="打造以太坊私有链" />
<meta property="og:description" content="1. 下载 $ git clone https://github.com/ethereum/go-ethereum.git 2. 编译 $ cd go-ethereum $ make geth 把./build/bin/geth添加到可执行路径中
3. 配置初始状态 保存配置到genesis.json文件
{  &#34;config&#34;: {  &#34;chainId&#34;: 7777,  &#34;homesteadBlock&#34;: 0,  &#34;eip150Block&#34;: 0,  &#34;eip155Block&#34;: 0,  &#34;eip158Block&#34;: 0,  &#34;byzantiumBlock&#34;: 0,  &#34;constantinopleBlock&#34;: 0,  &#34;petersburgBlock&#34;: 0,  &#34;ethash&#34;: {}  },  &#34;difficulty&#34;: &#34;1&#34;,  &#34;gasLimit&#34;: &#34;8000000&#34;,  &#34;alloc&#34;: {  &#34;7df9a875a174b3bc565e6424a0050ebc1b2d1d82&#34;: { &#34;balance&#34;: &#34;300000&#34; },  &#34;f41c74c9ae680c1aa78f42e5647a62f353b7bdde&#34;: { &#34;balance&#34;: &#34;400000&#34; }  } } 执行geth init --datadir data genesis.">
<meta property="og:url" content="https://zhongxuqi.github.io/posts/2022-03-15/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="ZhongXuQi的技术博客" />

  <meta name="twitter:title" content="打造以太坊私有链" />
  <meta name="twitter:description" content="1. 下载 $ git clone https://github.com/ethereum/go-ethereum.git 2. 编译 $ cd go-ethereum $ make geth 把./build/bin/geth添加到可执行路径中
3. 配置初始状态 保存配置到genesis.json文件
{  &#34;config&#34;: {  &#34;chainId&#34;: …">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.94.2" />
  <link rel="alternate" href="https://zhongxuqi.github.io/index.xml" type="application/rss+xml" title="ZhongXuQi的技术博客"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://zhongxuqi.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://zhongxuqi.github.io/css/syntax.css" /><link rel="stylesheet" href="https://zhongxuqi.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://zhongxuqi.github.io/">ZhongXuQi的技术博客</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>打造以太坊私有链</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <h2 id="1-下载">1. 下载</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ git clone https://github.com/ethereum/go-ethereum.git
</span></span></code></pre></div><h2 id="2-编译">2. 编译</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ cd go-ethereum
</span></span><span style="display:flex;"><span>$ make geth
</span></span></code></pre></div><p>把<code>./build/bin/geth</code>添加到可执行路径中</p>
<h2 id="3-配置初始状态">3. 配置初始状态</h2>
<p>保存配置到<code>genesis.json</code>文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;config&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;chainId&#34;</span>: <span style="color:#ae81ff">7777</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;homesteadBlock&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;eip150Block&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;eip155Block&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;eip158Block&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;byzantiumBlock&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;constantinopleBlock&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;petersburgBlock&#34;</span>: <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ethash&#34;</span>: {}
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;difficulty&#34;</span>: <span style="color:#e6db74">&#34;1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;gasLimit&#34;</span>: <span style="color:#e6db74">&#34;8000000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;alloc&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;7df9a875a174b3bc565e6424a0050ebc1b2d1d82&#34;</span>: { <span style="color:#f92672">&#34;balance&#34;</span>: <span style="color:#e6db74">&#34;300000&#34;</span> },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;f41c74c9ae680c1aa78f42e5647a62f353b7bdde&#34;</span>: { <span style="color:#f92672">&#34;balance&#34;</span>: <span style="color:#e6db74">&#34;400000&#34;</span> }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>执行<code>geth init --datadir data genesis.json</code>，初始化以太坊配置。</p>
<h2 id="4-运行以太坊节点">4. 运行以太坊节点</h2>
<p>执行<code>geth --datadir data --nodiscover --mine console</code>，节点启动。</p>
<h2 id="5-创建账户">5. 创建账户</h2>
<p>在以太坊console执行如下命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; personal.newAccount<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>Passphrase:
</span></span><span style="display:flex;"><span>Repeat passphrase:
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-15|17:46:52.995<span style="color:#f92672">]</span> Your new key was generated               address<span style="color:#f92672">=</span>0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf
</span></span><span style="display:flex;"><span>WARN <span style="color:#f92672">[</span>03-15|17:46:52.996<span style="color:#f92672">]</span> Please backup your key file!             path<span style="color:#f92672">=</span>/Users/xuqizhong/tmp/eth/data/keystore/UTC--2022-03-15T09-46-51.983819000Z--45281eb7bbaa41fef62d40ae881378c14335c1cf
</span></span><span style="display:flex;"><span>WARN <span style="color:#f92672">[</span>03-15|17:46:52.996<span style="color:#f92672">]</span> Please remember your password!
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;0x45281eb7bbaa41fef62d40ae881378c14335c1cf&#34;</span>
</span></span></code></pre></div><p>执行如下命令，可以查询有哪些账户</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; personal.listAccounts
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span><span style="color:#e6db74">&#34;0x45281eb7bbaa41fef62d40ae881378c14335c1cf&#34;</span>, <span style="color:#e6db74">&#34;0x96b638097bb4dd40d9bca6f1197b8d24b1705cfa&#34;</span><span style="color:#f92672">]</span>
</span></span></code></pre></div><h2 id="6-挖矿">6. 挖矿</h2>
<p>执行挖矿命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; miner.start<span style="color:#f92672">()</span>
</span></span></code></pre></div><p>暂停挖矿命令</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; miner.stop<span style="color:#f92672">()</span>
</span></span></code></pre></div><p>查询钱包余额</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; web3.fromWei<span style="color:#f92672">(</span>eth.getBalance<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;0x45281eb7bbaa41fef62d40ae881378c14335c1cf&#34;</span><span style="color:#f92672">)</span>,<span style="color:#e6db74">&#34;ether&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">196</span>
</span></span></code></pre></div><h2 id="7-发送交易">7. 发送交易</h2>
<p>首先需要解锁账户0</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; personal.unlockAccount<span style="color:#f92672">(</span>eth.accounts<span style="color:#f92672">[</span>0<span style="color:#f92672">])</span>
</span></span><span style="display:flex;"><span>Unlock account 0x45281eb7bbaa41fef62d40ae881378c14335c1cf
</span></span><span style="display:flex;"><span>Passphrase:
</span></span><span style="display:flex;"><span>true
</span></span></code></pre></div><p>发起交易</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; eth.sendTransaction<span style="color:#f92672">({</span>from:eth.accounts<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>,to:eth.accounts<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>,value:web3.toWei<span style="color:#f92672">(</span>10,<span style="color:#e6db74">&#39;ether&#39;</span><span style="color:#f92672">)})</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-15|18:29:11.590<span style="color:#f92672">]</span> Setting new local account                address<span style="color:#f92672">=</span>0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-15|18:29:11.591<span style="color:#f92672">]</span> Submitted transaction                    hash<span style="color:#f92672">=</span>0xef11db5b652c6402a2569843c7b364cda8628e84f86efe51d5b5b674cf6caa23 from<span style="color:#f92672">=</span>0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf nonce<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> recipient<span style="color:#f92672">=</span>0x96b638097Bb4dD40d9bca6f1197b8d24B1705cfa value<span style="color:#f92672">=</span>10,000,000,000,000,000,000
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;0xef11db5b652c6402a2569843c7b364cda8628e84f86efe51d5b5b674cf6caa23&#34;</span>
</span></span></code></pre></div><p>查询账户1的余额</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; web3.fromWei<span style="color:#f92672">(</span>eth.getBalance<span style="color:#f92672">(</span>eth.accounts<span style="color:#f92672">[</span>1<span style="color:#f92672">])</span>,<span style="color:#e6db74">&#39;ether&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span></code></pre></div><h2 id="8-编写智能合约">8. 编写智能合约</h2>
<p>实现一个简单的智能合约demo.sol</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-solidity" data-lang="solidity"><span style="display:flex;"><span><span style="color:#66d9ef">pragma solidity</span> <span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">7</span>.<span style="color:#ae81ff">0</span> <span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>.<span style="color:#ae81ff">9</span>.<span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">contract</span> <span style="color:#a6e22e">SimpleStorage</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">uint</span> storedData;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">set</span>(<span style="color:#66d9ef">uint</span> x) <span style="color:#66d9ef">public</span> {
</span></span><span style="display:flex;"><span>        storedData <span style="color:#f92672">=</span> x;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">get</span>() <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">view</span> <span style="color:#66d9ef">returns</span> (<span style="color:#66d9ef">uint</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> storedData;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>编译智能合约</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; solc --optimize --combined-json abi,bin demo.sol
</span></span><span style="display:flex;"><span>solc --optimize --combined-json abi,bin demo.sol
</span></span><span style="display:flex;"><span>Warning: SPDX license identifier not provided in source file. Before publishing, consider adding a comment containing <span style="color:#e6db74">&#34;SPDX-License-Identifier: &lt;SPDX-License&gt;&#34;</span> to each source file. Use <span style="color:#e6db74">&#34;SPDX-License-Identifier: UNLICENSED&#34;</span> <span style="color:#66d9ef">for</span> non-open-source code. Please see https://spdx.org <span style="color:#66d9ef">for</span> more information.
</span></span><span style="display:flex;"><span>--&gt; demo.sol
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;contracts&#34;</span>:<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;demo.sol:SimpleStorage&#34;</span>:<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;abi&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;inputs&#34;</span>:<span style="color:#f92672">[]</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;get&#34;</span>,<span style="color:#e6db74">&#34;outputs&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;internalType&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;stateMutability&#34;</span>:<span style="color:#e6db74">&#34;view&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;function&#34;</span><span style="color:#f92672">}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;inputs&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;internalType&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;x&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;set&#34;</span>,<span style="color:#e6db74">&#34;outputs&#34;</span>:<span style="color:#f92672">[]</span>,<span style="color:#e6db74">&#34;stateMutability&#34;</span>:<span style="color:#e6db74">&#34;nonpayable&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;function&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;bin&#34;</span>:<span style="color:#e6db74">&#34;6080604052348015600f57600080fd5b5060ac8061001e6000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c806360fe47b11460375780636d4ce63c146049575b600080fd5b60476042366004605e565b600055565b005b60005460405190815260200160405180910390f35b600060208284031215606f57600080fd5b503591905056fea264697066735822122026c14d5b811591c48b9fef3864b4577cbbc2ebd0e5ebc07b7d54847f206eb69564736f6c634300080c0033&#34;</span><span style="color:#f92672">}}</span>,<span style="color:#e6db74">&#34;version&#34;</span>:<span style="color:#e6db74">&#34;0.8.12+commit.f00d7308.Darwin.appleclang&#34;</span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="9-部署智能合约">9. 部署智能合约</h2>
<p>解锁账户</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; personal.unlockAccount<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;0x45281eb7bbaa41fef62d40ae881378c14335c1cf&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Unlock account 0x45281eb7bbaa41fef62d40ae881378c14335c1cf
</span></span><span style="display:flex;"><span>Passphrase:
</span></span><span style="display:flex;"><span>true
</span></span></code></pre></div><p>通过web3.eth.contract的new方法发起部署合约的交易</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; var storageContractJson <span style="color:#f92672">=</span> <span style="color:#f92672">{</span><span style="color:#e6db74">&#34;contracts&#34;</span>:<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;demo.sol:SimpleStorage&#34;</span>:<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;abi&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;inputs&#34;</span>:<span style="color:#f92672">[]</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;get&#34;</span>,<span style="color:#e6db74">&#34;outputs&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;internalType&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;stateMutability&#34;</span>:<span style="color:#e6db74">&#34;view&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;function&#34;</span><span style="color:#f92672">}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;inputs&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;internalType&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;x&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;uint256&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;name&#34;</span>:<span style="color:#e6db74">&#34;set&#34;</span>,<span style="color:#e6db74">&#34;outputs&#34;</span>:<span style="color:#f92672">[]</span>,<span style="color:#e6db74">&#34;stateMutability&#34;</span>:<span style="color:#e6db74">&#34;nonpayable&#34;</span>,<span style="color:#e6db74">&#34;type&#34;</span>:<span style="color:#e6db74">&#34;function&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;bin&#34;</span>:<span style="color:#e6db74">&#34;6080604052348015600f57600080fd5b5060ac8061001e6000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c806360fe47b11460375780636d4ce63c146049575b600080fd5b60476042366004605e565b600055565b005b60005460405190815260200160405180910390f35b600060208284031215606f57600080fd5b503591905056fea264697066735822122026c14d5b811591c48b9fef3864b4577cbbc2ebd0e5ebc07b7d54847f206eb69564736f6c634300080c0033&#34;</span><span style="color:#f92672">}}</span>,<span style="color:#e6db74">&#34;version&#34;</span>:<span style="color:#e6db74">&#34;0.8.12+commit.f00d7308.Darwin.appleclang&#34;</span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>undefined
</span></span><span style="display:flex;"><span>&gt; var storageContract <span style="color:#f92672">=</span> eth.contract<span style="color:#f92672">(</span>storageContractJson.contracts<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;demo.sol:SimpleStorage&#34;</span><span style="color:#f92672">]</span>.abi<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>undefined
</span></span><span style="display:flex;"><span>&gt; var storageContractObj <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>from:eth.accounts<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>,data:<span style="color:#e6db74">&#34;0x&#34;</span>+storageContractJson.contracts<span style="color:#f92672">[</span><span style="color:#e6db74">&#34;demo.sol:SimpleStorage&#34;</span><span style="color:#f92672">]</span>.bin,gas:1000000<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>undefined
</span></span><span style="display:flex;"><span>&gt; &gt; var storageContractIns <span style="color:#f92672">=</span> storageContract.new<span style="color:#f92672">(</span>storageContractObj<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:37:55.925<span style="color:#f92672">]</span> Setting new local account                address<span style="color:#f92672">=</span>0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:37:55.926<span style="color:#f92672">]</span> Submitted contract creation              hash<span style="color:#f92672">=</span>0xa8c86633956bea5f8532734bd76a3125ee2f81c0ddf5308762651c94c99cd957 from<span style="color:#f92672">=</span>0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf nonce<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> contract<span style="color:#f92672">=</span>0xf00a6AAA995c8adcC7b0A6d2A044827c58b6cdb3 value<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>undefined
</span></span></code></pre></div><p>查看交易池状态</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; txpool.status
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  pending: 1,
</span></span><span style="display:flex;"><span>  queued: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>&gt; txpool.inspect.pending
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    1: <span style="color:#e6db74">&#34;contract creation: 0 wei + 1000000 gas × 1000000000 wei&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>可以看到有一个交易待处理，开始挖矿</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; miner.start<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;admin.sleepBlocks<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;miner.stop<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:40:45.910<span style="color:#f92672">]</span> Updated mining threads                   threads<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:40:49.606<span style="color:#f92672">]</span> Successfully sealed new block            number<span style="color:#f92672">=</span><span style="color:#ae81ff">104</span> sealhash<span style="color:#f92672">=</span>b80b30..539c7f hash<span style="color:#f92672">=</span>8fe8f6..e601c7 elapsed<span style="color:#f92672">=</span>2m50.695s
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:40:49.606<span style="color:#f92672">]</span> 🔨 mined potential block                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">104</span> hash<span style="color:#f92672">=</span>8fe8f6..e601c7
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:40:49.607<span style="color:#f92672">]</span> Commit new sealing work                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">105</span> sealhash<span style="color:#f92672">=</span>d85721..564878 uncles<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> txs<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> gas<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>       fees<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>           elapsed<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;126.458µs&#34;</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:40:49.607<span style="color:#f92672">]</span> Commit new sealing work                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">105</span> sealhash<span style="color:#f92672">=</span>d85721..564878 uncles<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> txs<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> gas<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>       fees<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>           elapsed<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;245.25µs&#34;</span>
</span></span><span style="display:flex;"><span>null
</span></span><span style="display:flex;"><span>&gt; txpool.status
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  pending: 0,
</span></span><span style="display:flex;"><span>  queued: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>查看合约地址</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; storageContractIns
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  abi: <span style="color:#f92672">[{</span>
</span></span><span style="display:flex;"><span>      inputs: <span style="color:#f92672">[]</span>,
</span></span><span style="display:flex;"><span>      name: <span style="color:#e6db74">&#34;get&#34;</span>,
</span></span><span style="display:flex;"><span>      outputs: <span style="color:#f92672">[{</span>...<span style="color:#f92672">}]</span>,
</span></span><span style="display:flex;"><span>      stateMutability: <span style="color:#e6db74">&#34;view&#34;</span>,
</span></span><span style="display:flex;"><span>      type: <span style="color:#e6db74">&#34;function&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>, <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      inputs: <span style="color:#f92672">[{</span>...<span style="color:#f92672">}]</span>,
</span></span><span style="display:flex;"><span>      name: <span style="color:#e6db74">&#34;set&#34;</span>,
</span></span><span style="display:flex;"><span>      outputs: <span style="color:#f92672">[]</span>,
</span></span><span style="display:flex;"><span>      stateMutability: <span style="color:#e6db74">&#34;nonpayable&#34;</span>,
</span></span><span style="display:flex;"><span>      type: <span style="color:#e6db74">&#34;function&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}]</span>,
</span></span><span style="display:flex;"><span>  address: <span style="color:#e6db74">&#34;0xf00a6aaa995c8adcc7b0a6d2a044827c58b6cdb3&#34;</span>,
</span></span><span style="display:flex;"><span>  transactionHash: <span style="color:#e6db74">&#34;0xa8c86633956bea5f8532734bd76a3125ee2f81c0ddf5308762651c94c99cd957&#34;</span>,
</span></span><span style="display:flex;"><span>  allEvents: <span style="color:#66d9ef">function</span> bound<span style="color:#f92672">()</span>,
</span></span><span style="display:flex;"><span>  get: <span style="color:#66d9ef">function</span> bound<span style="color:#f92672">()</span>,
</span></span><span style="display:flex;"><span>  set: <span style="color:#66d9ef">function</span> bound<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>查看部署合约交易详情</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; eth.getTransactionReceipt<span style="color:#f92672">(</span>storageContractIns.transactionHash<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  blockHash: <span style="color:#e6db74">&#34;0x8fe8f6dc26b38c87287de5fab28b1b3983dd7b2b47ebb59eb69f60c8b4e601c7&#34;</span>,
</span></span><span style="display:flex;"><span>  blockNumber: 104,
</span></span><span style="display:flex;"><span>  contractAddress: <span style="color:#e6db74">&#34;0xf00a6aaa995c8adcc7b0a6d2a044827c58b6cdb3&#34;</span>,
</span></span><span style="display:flex;"><span>  cumulativeGasUsed: 100327,
</span></span><span style="display:flex;"><span>  effectiveGasPrice: 1000000000,
</span></span><span style="display:flex;"><span>  from: <span style="color:#e6db74">&#34;0x45281eb7bbaa41fef62d40ae881378c14335c1cf&#34;</span>,
</span></span><span style="display:flex;"><span>  gasUsed: 100327,
</span></span><span style="display:flex;"><span>  logs: <span style="color:#f92672">[]</span>,
</span></span><span style="display:flex;"><span>  logsBloom: <span style="color:#e6db74">&#34;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&#34;</span>,
</span></span><span style="display:flex;"><span>  status: <span style="color:#e6db74">&#34;0x1&#34;</span>,
</span></span><span style="display:flex;"><span>  to: null,
</span></span><span style="display:flex;"><span>  transactionHash: <span style="color:#e6db74">&#34;0xa8c86633956bea5f8532734bd76a3125ee2f81c0ddf5308762651c94c99cd957&#34;</span>,
</span></span><span style="display:flex;"><span>  transactionIndex: 0,
</span></span><span style="display:flex;"><span>  type: <span style="color:#e6db74">&#34;0x0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>获取合约地址</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; var storageContractInsAddress <span style="color:#f92672">=</span> eth.getTransactionReceipt<span style="color:#f92672">(</span>storageContractIns.transactionHash<span style="color:#f92672">)</span>.contractAddress
</span></span><span style="display:flex;"><span>undefined
</span></span><span style="display:flex;"><span>&gt; storageContractInsAddress
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;0xf00a6aaa995c8adcc7b0a6d2a044827c58b6cdb3&#34;</span>
</span></span></code></pre></div><p>获取合约实例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; var storageContractIns <span style="color:#f92672">=</span> storageContract.at<span style="color:#f92672">(</span>storageContractInsAddress<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>undefined
</span></span><span style="display:flex;"><span>&gt; storageContractIns
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  abi: <span style="color:#f92672">[{</span>
</span></span><span style="display:flex;"><span>      inputs: <span style="color:#f92672">[]</span>,
</span></span><span style="display:flex;"><span>      name: <span style="color:#e6db74">&#34;get&#34;</span>,
</span></span><span style="display:flex;"><span>      outputs: <span style="color:#f92672">[{</span>...<span style="color:#f92672">}]</span>,
</span></span><span style="display:flex;"><span>      stateMutability: <span style="color:#e6db74">&#34;view&#34;</span>,
</span></span><span style="display:flex;"><span>      type: <span style="color:#e6db74">&#34;function&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>, <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      inputs: <span style="color:#f92672">[{</span>...<span style="color:#f92672">}]</span>,
</span></span><span style="display:flex;"><span>      name: <span style="color:#e6db74">&#34;set&#34;</span>,
</span></span><span style="display:flex;"><span>      outputs: <span style="color:#f92672">[]</span>,
</span></span><span style="display:flex;"><span>      stateMutability: <span style="color:#e6db74">&#34;nonpayable&#34;</span>,
</span></span><span style="display:flex;"><span>      type: <span style="color:#e6db74">&#34;function&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}]</span>,
</span></span><span style="display:flex;"><span>  address: <span style="color:#e6db74">&#34;0xf00a6aaa995c8adcc7b0a6d2a044827c58b6cdb3&#34;</span>,
</span></span><span style="display:flex;"><span>  transactionHash: null,
</span></span><span style="display:flex;"><span>  allEvents: <span style="color:#66d9ef">function</span> bound<span style="color:#f92672">()</span>,
</span></span><span style="display:flex;"><span>  get: <span style="color:#66d9ef">function</span> bound<span style="color:#f92672">()</span>,
</span></span><span style="display:flex;"><span>  set: <span style="color:#66d9ef">function</span> bound<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>调用合约get方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; storageContractIns.get.call<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>调用合约set方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; storageContractIns.set.sendTransaction<span style="color:#f92672">(</span>77,<span style="color:#f92672">{</span>from:eth.accounts<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>,gas:1000000<span style="color:#f92672">})</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:51:41.077<span style="color:#f92672">]</span> Submitted transaction                    hash<span style="color:#f92672">=</span>0xf431e2d1e2dbf042dca26570d213415c2ccf72a0272a89c028db7a802b38a9f0 from<span style="color:#f92672">=</span>0x45281eb7BBaA41FeF62D40aE881378c14335C1Cf nonce<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> recipient<span style="color:#f92672">=</span>0xf00a6AAA995c8adcC7b0A6d2A044827c58b6cdb3 value<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;0xf431e2d1e2dbf042dca26570d213415c2ccf72a0272a89c028db7a802b38a9f0&#34;</span>
</span></span><span style="display:flex;"><span>&gt; txpool.status
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  pending: 1,
</span></span><span style="display:flex;"><span>  queued: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>&gt; miner.start<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;admin.sleepBlocks<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>;miner.stop<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:18.540<span style="color:#f92672">]</span> Updated mining threads                   threads<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:18.540<span style="color:#f92672">]</span> Transaction pool price threshold updated price<span style="color:#f92672">=</span>1,000,000,000
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:18.540<span style="color:#f92672">]</span> Commit new sealing work                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">105</span> sealhash<span style="color:#f92672">=</span>67a38b..47fa30 uncles<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> txs<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> gas<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>       fees<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>           elapsed<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;265.708µs&#34;</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:18.541<span style="color:#f92672">]</span> Commit new sealing work                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">105</span> sealhash<span style="color:#f92672">=</span>e82e4a..e120c7 uncles<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> txs<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> gas<span style="color:#f92672">=</span><span style="color:#ae81ff">41654</span>   fees<span style="color:#f92672">=</span>4.1654e-05  elapsed<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;688.625µs&#34;</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:20.048<span style="color:#f92672">]</span> Successfully sealed new block            number<span style="color:#f92672">=</span><span style="color:#ae81ff">105</span> sealhash<span style="color:#f92672">=</span>e82e4a..e120c7 hash<span style="color:#f92672">=</span>5300e6..eced57 elapsed<span style="color:#f92672">=</span>1.507s
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:20.048<span style="color:#f92672">]</span> 🔨 mined potential block                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">105</span> hash<span style="color:#f92672">=</span>5300e6..eced57
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:20.048<span style="color:#f92672">]</span> Commit new sealing work                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">106</span> sealhash<span style="color:#f92672">=</span>cf5725..46077d uncles<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> txs<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> gas<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>       fees<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>           elapsed<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;76.375µs&#34;</span>
</span></span><span style="display:flex;"><span>INFO <span style="color:#f92672">[</span>03-16|11:52:20.048<span style="color:#f92672">]</span> Commit new sealing work                  number<span style="color:#f92672">=</span><span style="color:#ae81ff">106</span> sealhash<span style="color:#f92672">=</span>cf5725..46077d uncles<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> txs<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> gas<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>       fees<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>           elapsed<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;126.084µs&#34;</span>
</span></span><span style="display:flex;"><span>null
</span></span><span style="display:flex;"><span>&gt; txpool.status
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  pending: 0,
</span></span><span style="display:flex;"><span>  queued: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>获取存储结果</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&gt; storageContractIns.get.call<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">77</span>
</span></span></code></pre></div>

        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://zhongxuqi.github.io/posts/2017-04-07/" data-toggle="tooltip" data-placement="top" title="使用docker进行项目开发">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2022
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://zhongxuqi.github.io/">ZhongXuQi的技术博客</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.94.2</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://zhongxuqi.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://zhongxuqi.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

